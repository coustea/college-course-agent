<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ccut.mapper.AiExamQuestionMapper">

    <resultMap id="AiExamQuestionRM" type="com.ccut.entity.AiExamQuestion">
        <id property="id" column="id"/>
        <result property="examId" column="exam_id"/>
        <result property="type" column="type"/>
        <result property="content" column="content"/>
        <result property="options" column="options"/>
        <result property="answer" column="answer"/>
        <result property="analysis" column="analysis"/>
    </resultMap>

    <insert id="insert">
        INSERT INTO ai_exam_questions (
            <trim suffixOverrides=",">
                <if test="examId != null">exam_id,</if>
                <if test="type != null">type,</if>
                <if test="content != null">content,</if>
                <if test="options != null">options,</if>
                <if test="answer != null">answer,</if>
                <if test="analysis != null">analysis,</if>
            </trim>
        ) VALUES (
            <trim suffixOverrides=",">
                <if test="examId != null">#{examId},</if>
                <if test="type != null">#{type},</if>
                <if test="content != null">#{content},</if>
                <if test="options != null">#{options},</if>
                <if test="answer != null">#{answer},</if>
                <if test="analysis != null">#{analysis},</if>
            </trim>
        )
    </insert>

    <select id="listByExamId" resultMap="AiExamQuestionRM">
        SELECT id, exam_id, type, content, options, answer, analysis
        FROM ai_exam_questions
        WHERE exam_id = #{examId}
        ORDER BY id ASC
    </select>

</mapper>


